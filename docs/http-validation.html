<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>About HTTP Validation (http-01) · Certify The Web - Docs</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="About HTTP Validation (http-01) · Certify The Web - Docs"/><meta property="og:type" content="website"/><meta property="og:url" content="https://certifytheweb.com/index.html"/><meta property="og:description" content="## Why use HTTP Validation?"/><meta property="og:image" content="https://certifytheweb.com/img/docusaurus.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://certifytheweb.com/img/docusaurus.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible doc separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/icon.svg" alt="Certify The Web - Docs"/><h2 class="headerTitle">Certify The Web - Docs</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/intro.html" target="_self">Getting Started</a></li><li class="siteNavGroupActive"><a href="/docs/faq.html" target="_self">FAQ</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Guides</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Getting Started</h3><ul><li class="navListItem"><a class="navItem" href="/docs/intro.html">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/letsencrypt.html">What is Let&#x27;s Encrypt?</a></li><li class="navListItem"><a class="navItem" href="/docs/certificate-process.html">Certificate Request Process</a></li><li class="navListItem"><a class="navItem" href="/docs/ui-options.html">Guide to UI Options</a></li><li class="navListItem"><a class="navItem" href="/docs/renewals.html">Certificate Renewals</a></li><li class="navListItem"><a class="navItem" href="/docs/faq.html">Frequently Asked Questions</a></li></ul></div><div class="navGroup navGroupActive"><h3>Guides</h3><ul><li class="navListItem"><a class="navItem" href="/docs/dns-validation.html">About DNS Validation (dns-01)</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/http-validation.html">About HTTP Validation (http-01)</a></li><li class="navListItem"><a class="navItem" href="/docs/script-hooks.html">Scripting Hooks</a></li></ul></div><div class="navGroup navGroupActive"><h3>Useful Info</h3><ul><li class="navListItem"><a class="navItem" href="/docs/ssl-windows.html">Using Certificates in Windows</a></li><li class="navListItem"><a class="navItem" href="/docs/commandline.html">Command Line (CLI) Options</a></li><li class="navListItem"><a class="navItem" href="/docs/csv-import.html">CSV Bulk Import via Command Line</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/webprofusion/certify-docs/edit/master/docs/http-validation.md" target="_blank" rel="noreferrer noopener">Edit</a><h1>About HTTP Validation (http-01)</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="why-use-http-validation"></a><a href="#why-use-http-validation" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why use HTTP Validation?</h2>
<p>To request a certificate from Let's Encrypt (or any Certificate Authority), you need to provide some kind of proof that you are entitled to receive the certificate for given domain(s). Let's Encrypt support two methods of validation to prove control of your domain, http-01 (validation over HTTP) and dns-01 (validation via DNS). Wildcard domain certificates (those covering *.yourdomain.com) can only be requested using DNS validation.</p>
<h2><a class="anchor" aria-hidden="true" id="how-to-use-http-validation-on-windows"></a><a href="#how-to-use-http-validation-on-windows" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to use HTTP Validation (on Windows)</h2>
<p>When Let's Encrypt performs domain validation over http (known as an http-01 challenge) they ask for a randomly named text file to be created in the /.well-known/acme-challenge path of your website. So they should be able to retrieve it at <em>http://<yourdomain>/.well-known/acme-challenge/<filename></em></p>
<p>On <em>IIS</em> this presents a few challenges:</p>
<ul>
<li>The file does not have an extension (like .txt etc), so a static file handler usually needs to be configured to handle extension-less files</li>
<li>Existing handlers for extension-less content may intercept the request and prevent access to the file</li>
<li>If authentication (basic, forms etc) is enabled the access to the file will be restricted so this needs to be disabled</li>
<li>Due to the above, Asp.Net (and an app-pool) is generally required so that web.config can be supplied to override the configuration.</li>
<li>Other customizations or app requirements for the parent website may affect configuration</li>
</ul>
<p>For <em>Certify The Web</em>, we attempt to auto-configure the required configuration without modifying the configuration of the parent web application,
this avoids app restarts for the parent application. We create a file called <strong>configcheck</strong> in the /acme-challenge folder and
we cycle through a number of alternative web.config options and test each one. The testing process then makes a local http request to your website at http://<yourdomain>/.well-known/acme-challenge/configcheck</p>
<p>If the local request fails (perhaps because the local server can't resolve itself via DNS etc) and if proxy API support is enabled, the app asks
the <a href="https://api.certifytheweb.com">https://api.certifytheweb.com</a> server if it can access the resource instead (which also has the benefit of being external, just like the Let's Encrypt server is).</p>
<p>If this step succeeds, you're all set to automatically complete HTTP validation of your domain. Once completed, Let's Encrypt marks your domain (associated with your account) as 'valid' and we can then proceed with requesting the final certificate.</p>
<h2><a class="anchor" aria-hidden="true" id="common-issues"></a><a href="#common-issues" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Common Issues</h2>
<h3><a class="anchor" aria-hidden="true" id="error-500-404-or-403-or-other-http-error-code"></a><a href="#error-500-404-or-403-or-other-http-error-code" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Error 500, 404 or 403 (or other http error code)</h3>
<p>The most common problem is that auto configuration has failed to determine the best config for your system. Different editions/distributions of windows have different defaults.</p>
<p>1 - Check the challenge folder exists
Check that test test configcheck file has been created at <em>wwwwroot</em>\inetpub*yourwebsite*.well-known\acme-challenge</p>
<p>if not, check your folder permissions allow this folder/files to be created. If necessary, check the website root path is correctly mapped.</p>
<p>2 - Check you can access http://<em>yourdomain</em>/.well-known/acme-challenge/configcheck</p>
<p>If the file exists on disk but you get a 404 error accessing the file then you have a problem with mapping extensionless files to static content.</p>
<p>If you get an error 500, the web.config  probably has a directive your server can't support. If the web.config has a <code>&lt;clear/&gt;</code> directive, try removing it.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="dns-validation.html">← About DNS Validation (dns-01)</a><a class="docs-next button" href="script-hooks.html">Scripting Hooks →</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#why-use-http-validation">Why use HTTP Validation?</a></li><li><a href="#how-to-use-http-validation-on-windows">How to use HTTP Validation (on Windows)</a></li><li><a href="#common-issues">Common Issues</a><ul class="toc-headings"><li><a href="#error-500-404-or-403-or-other-http-error-code">Error 500, 404 or 403 (or other http error code)</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/icon.svg" alt="Certify The Web - Docs" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/intro.html">Getting Started (or other categories)</a><a href="/docs/en/FAQ.html">FAQs</a></div><div><h5>Community</h5><a href="https://community.certifytheweb.com" target="_blank" rel="noreferrer noopener">Discuss</a><a href="https://twitter.com/certifytheweb/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="https://github.com/webprofusion/certify">GitHub</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2018 Webprofusion Pty Ltd</section></footer></div></body></html>